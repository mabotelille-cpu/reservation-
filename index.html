<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Pr√©‚Äër√©servation Maison Mab√¥t√©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background-color: #eae4e1;
      color: #544036;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
    }
    .header {
      background-color: #dfb7bd;
      text-align: center;
      padding: 40px 0 20px 0;
    }
    .header img {
      height: 90px;
      margin-bottom: 10px;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 18px #d0ccc8;
      padding: 12px;
      display: inline-block;
      vertical-align: middle;
    }
    .header h1 {
      color: #544036;
      font-size: 2em;
      margin: 0;
      font-weight: bold;
      letter-spacing: 2px;
    }
    .container {
      background: #fff;
      max-width: 700px;
      margin: 30px auto;
      box-shadow: 0 0 20px #d0ccc8;
      padding: 38px 32px;
      border-radius: 18px;
    }
    .row {
      display: flex;
      gap: 16px;
      margin-bottom: 18px;
    }
    .row label {
      margin-top: 0 !important;
    }
    .row .col {
      flex: 1;
    }
    label {
      font-weight: bold;
      color: #544036;
      margin-top: 13px;
      display: block;
    }
    input, select, textarea {
      display: block;
      width: 100%;
      font-size: 1em;
      margin-top: 6px;
      margin-bottom: 0;
      padding: 9px;
      border-radius: 8px;
      border: 1px solid #d0ccc8;
      background: #eae4e1;
      color: #544036;
      box-sizing: border-box;
    }
    input[type="checkbox"] {
      display: inline-block;
      width: auto;
      margin-right: 8px;
    }
    .btn-envoyer {
      background: #dfb7bd;
      color: #544036;
      font-weight: bold;
      font-size: 1.07em;
      padding: 12px 36px;
      border-radius: 22px;
      border: none;
      margin-top: 18px;
      box-shadow: 0 2px 10px #d0ccc8;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
      margin-bottom: 7px;
    }
    .btn-envoyer:hover {
      background: #544036;
      color: #dfb7bd;
    }
    .infos {
      font-size: 0.98em;
      color: #544036;
      padding: 12px 0 0 0;
    }
    .rgpd-link {
      color: #dfb7bd;
      font-weight: bold;
      text-decoration: none;
      border-bottom: 1.5px dotted #dfb7bd;
      margin-left: 3px;
      transition: color 0.3s;
    }
    .rgpd-link:hover {
      color: #544036;
    }
    .autocomplete-items {
      position: absolute;
      border: 1px solid #d0ccc8;
      border-top: none;
      z-index: 99;
      top: 100%;
      left: 0;
      right: 0;
      max-height: 200px;
      overflow-y: auto;
      background: #fff;
      border-radius: 0 0 8px 8px;
    }
    .autocomplete-items div {
      padding: 10px;
      cursor: pointer;
      background-color: #fff;
      border-bottom: 1px solid #d0ccc8;
    }
    .autocomplete-items div:hover {
      background-color: #eae4e1;
    }
    .autocomplete {
      position: relative;
    }
    @media (max-width: 600px) {
      .container {
        padding: 14px 3vw;
      }
      .row {
        flex-direction: column;
        gap: 0;
      }
      .header h1 {
        font-size: 1.45em;
      }
    }
  </style>
  <script>
    function showOtherField() {
      var connu = document.getElementById("connu");
      var autre = document.getElementById("connu_autre_wrap");
      autre.style.display = (connu.value === "Autre") ? "block" : "none";
      document.getElementById("connu_autre").required = (connu.value === "Autre");
    }
  </script>
</head>
<body>
  <div class="header">
    <img src="logo.png" alt="Logo Maison Mab√¥t√©">
    <h1>Pr√©‚Äër√©servation</h1>
  </div>
  <div class="container">
    <form method="POST" action="https://formspree.io/f/meovonbe">
      <div class="row">
                    <input type="hidden" name="utm_source" value="qr_businesscard">
        <div class="col">
          <label for="prenom">Pr√©nom</label>
          <input id="prenom" name="Pr√©nom" required>
        </div>
        <div class="col">
          <label for="nom">Nom</label>
          <input id="nom" name="Nom" required>
        </div>
      </div>

      <div class="row">
        <div class="col autocomplete">
          <label for="ville">Ville</label>
          <input id="ville" name="Ville" required placeholder="ex: Lille" autocomplete="off">
        </div>
        <div class="col">
          <label for="cp">Code postal</label>
          <input id="cp" name="Code Postal" required placeholder="ex: 59000">
        </div>
      </div>

      <label for="pays">Pays</label>
      <select id="pays" name="Pays" required>
        <option value="" disabled selected>S√©lectionnez votre pays</option>
        <option value="France">France</option>
        <option value="Belgique">Belgique</option>
      </select>

      <label for="email">Email</label>
      <input id="email" name="Email" type="email" required>

      <label for="tel">T√©l√©phone (Whatsapp accept√©, France +33 / Belgique +32)</label>
      <input id="tel" name="T√©l√©phone" required placeholder="+33 6... ou +32 4...">

      <label for="connu">Comment avez-vous connu Maison Mab√¥t√© ?</label>
      <select id="connu" name="Connaissance" onchange="showOtherField()" required>
        <option value="" disabled selected>Choisissez</option>
        <option value="Facebook">Facebook</option>
        <option value="Instagram">Instagram</option>
        <option value="TikTok">TikTok</option>
        <option value="Google">Google</option>
        <option value="Bouche √† oreille">Bouche √† oreille</option>
        <option value="Autre">Autre</option>
      </select>
      <div id="connu_autre_wrap" style="display:none;">
        <label for="connu_autre">Pr√©cisez :</label>
        <textarea id="connu_autre" name="Connaissance autre" rows="1" placeholder="D√©taillez comment vous avez connu Maison Mab√¥t√©"></textarea>
      </div>

      <label>
        <input type="checkbox" name="Newsletter">
        Je souhaite recevoir les nouveaut√©s, offres et conseils par email.
      </label>
      <label>
        <input type="checkbox" name="RGPD" required>
        J'accepte que mes donn√©es soient collect√©es pour organiser ma r√©servation et recevoir des informations, conform√©ment au RGPD.
        <a href="politique-confidentialite.html" class="rgpd-link">Voir la politique de confidentialit√©</a>
      </label>
      <button type="submit" class="btn-envoyer">Continuer vers la r√©servation</button>
    </form>
    <div class="infos">
      Vos donn√©es sont utilis√©es uniquement pour la gestion de votre RDV et l'information Maison Mab√¥t√©.<br>
      Elles ne sont jamais revendues et vous pouvez demander leur suppression √† tout moment.
    </div>
  </div>
  <script>
    // Base de donn√©es villes : Zone 30km Hem + Grandes villes FR/BE
    const villes = [
      // Zone 30km autour de Hem (59510) - M√©tropole Lilloise et environs
      {ville: "Hem", cp: "59510", pays: "France"},
      {ville: "Lannoy", cp: "59390", pays: "France"},
      {ville: "Forest-sur-Marque", cp: "59510", pays: "France"},
      {ville: "Sailly-lez-Lannoy", cp: "59390", pays: "France"},
      {ville: "Lys-lez-Lannoy", cp: "59390", pays: "France"},
      {ville: "Toufflers", cp: "59390", pays: "France"},
      {ville: "Croix", cp: "59170", pays: "France"},
      {ville: "Roubaix", cp: "59100", pays: "France"},
      {ville: "Wasquehal", cp: "59290", pays: "France"},
      {ville: "Tressin", cp: "59152", pays: "France"},
      {ville: "Willems", cp: "59780", pays: "France"},
      {ville: "Villeneuve-d'Ascq", cp: "59650", pays: "France"},
      {ville: "Ch√©reng", cp: "59152", pays: "France"},
      {ville: "Tourcoing", cp: "59200", pays: "France"},
      {ville: "Lille", cp: "59000", pays: "France"},
      {ville: "Marcq-en-Baroeul", cp: "59700", pays: "France"},
      {ville: "Mons-en-Baroeul", cp: "59370", pays: "France"},
      {ville: "La Madeleine", cp: "59110", pays: "France"},
      {ville: "Lambersart", cp: "59130", pays: "France"},
      {ville: "Saint-Andr√©-lez-Lille", cp: "59350", pays: "France"},
      {ville: "Marquette-lez-Lille", cp: "59520", pays: "France"},
      {ville: "Bondues", cp: "59910", pays: "France"},
      {ville: "Mouvaux", cp: "59420", pays: "France"},
      {ville: "Wattrelos", cp: "59150", pays: "France"},
      {ville: "Leers", cp: "59115", pays: "France"},
      {ville: "Anstaing", cp: "59152", pays: "France"},
      {ville: "Gruson", cp: "59152", pays: "France"},
      {ville: "Baisieux", cp: "59780", pays: "France"},
      {ville: "Bouvines", cp: "59830", pays: "France"},
      {ville: "Cysoing", cp: "59830", pays: "France"},
      {ville: "Louvil", cp: "59830", pays: "France"},
      {ville: "Camphin-en-P√©v√®le", cp: "59780", pays: "France"},
      {ville: "Templeuve-en-P√©v√®le", cp: "59242", pays: "France"},
      {ville: "Fretin", cp: "59273", pays: "France"},
      {ville: "P√©ronne-en-M√©lantois", cp: "59273", pays: "France"},
      {ville: "Lesquin", cp: "59810", pays: "France"},
      {ville: "Faches-Thumesnil", cp: "59155", pays: "France"},
      {ville: "Lezennes", cp: "59260", pays: "France"},
      {ville: "Ronchin", cp: "59790", pays: "France"},
      {ville: "Loos", cp: "59120", pays: "France"},
      {ville: "Haubourdin", cp: "59320", pays: "France"},
      {ville: "Emmerin", cp: "59320", pays: "France"},
      {ville: "Seclin", cp: "59113", pays: "France"},
            {ville: "Sainghin-en-M√©lantois", cp: "59262", pays: "France"},
      {ville: "Sainghin-en-Weppes", cp: "59184", pays: "France"},
      {ville: "Allennes-les-Marais", cp: "59251", pays: "France"},
      {ville: "Ann≈ìullin", cp: "59112", pays: "France"},
      {ville: "Aubers", cp: "59249", pays: "France"},
      {ville: "Avelin", cp: "59710", pays: "France"},
      {ville: "Bachy", cp: "59830", pays: "France"},
      {ville: "Beaucamps-Ligny", cp: "59134", pays: "France"},
      {ville: "Bers√©e", cp: "59235", pays: "France"},
      {ville: "Beuvry-la-For√™t", cp: "59310", pays: "France"},
      {ville: "Bois-Grenier", cp: "59280", pays: "France"},
      {ville: "Bourghelles", cp: "59830", pays: "France"},
      {ville: "Cappelle-en-P√©v√®le", cp: "59242", pays: "France"},
      {ville: "Carnin", cp: "59112", pays: "France"},
      {ville: "Chemy", cp: "59147", pays: "France"},
      {ville: "Cobrieux", cp: "59830", pays: "France"},
      {ville: "De√ªl√©mont", cp: "59890", pays: "France"},
      {ville: "Don", cp: "59272", pays: "France"},
      {ville: "Englos", cp: "59320", pays: "France"},
      {ville: "Ennevelin", cp: "59710", pays: "France"},
      {ville: "Escobecques", cp: "59320", pays: "France"},
      {ville: "Faumont", cp: "59310", pays: "France"},
      {ville: "Fournes-en-Weppes", cp: "59134", pays: "France"},
      {ville: "Genech", cp: "59242", pays: "France"},
      {ville: "Gondecourt", cp: "59147", pays: "France"},
      {ville: "Hantay", cp: "59496", pays: "France"},
      {ville: "Herrin", cp: "59147", pays: "France"},
      {ville: "Houplin-Ancoisne", cp: "59263", pays: "France"},
      {ville: "La Bass√©e", cp: "59480", pays: "France"},
      {ville: "Lompret", cp: "59840", pays: "France"},
      {ville: "Marquillies", cp: "59274", pays: "France"},
      {ville: "Merignies", cp: "59710", pays: "France"},
      {ville: "Moncheaux", cp: "59283", pays: "France"},
      {ville: "Mons-en-P√©v√®le", cp: "59246", pays: "France"},
      {ville: "Nomain", cp: "59310", pays: "France"},
      {ville: "Noyelles-l√®s-Seclin", cp: "59139", pays: "France"},
      {ville: "Ostricourt", cp: "59162", pays: "France"},
      {ville: "Phalempin", cp: "59133", pays: "France"},
      {ville: "Pont-√†-Marcq", cp: "59710", pays: "France"},
      {ville: "Quesnoy-sur-De√ªle", cp: "59890", pays: "France"},
      {ville: "Radinghem-en-Weppes", cp: "59320", pays: "France"},
      {ville: "Rumegies", cp: "59226", pays: "France"},
      {ville: "Santes", cp: "59211", pays: "France"},
      {ville: "Templemars", cp: "59175", pays: "France"},
      {ville: "Tourmignies", cp: "59551", pays: "France"},
      {ville: "Vendeville", cp: "59175", pays: "France"},
      {ville: "Wahagnies", cp: "59261", pays: "France"},
      {ville: "Wambrechies", cp: "59118", pays: "France"},
      {ville: "Wannehain", cp: "59830", pays: "France"},
      {ville: "Wavrin", cp: "59136", pays: "France"},

      {ville: "Wattignies", cp: "59139", pays: "France"},
      {ville: "Armenti√®res", cp: "59280", pays: "France"},
      {ville: "Houplines", cp: "59116", pays: "France"},
      {ville: "La Chapelle-d'Armenti√®res", cp: "59930", pays: "France"},
      {ville: "Nieppe", cp: "59850", pays: "France"},
      {ville: "Halluin", cp: "59250", pays: "France"},
      {ville: "Bousbecque", cp: "59166", pays: "France"},
      {ville: "Linselles", cp: "59126", pays: "France"},
      {ville: "Wervik", cp: "8940", pays: "Belgique"},
      {ville: "Comines", cp: "59560", pays: "France"},
      {ville: "Wervicq-Sud", cp: "59117", pays: "France"},
            {ville: "Neuville-en-Ferrain", cp: "59960", pays: "France"},
      {ville: "Roncq", cp: "59223", pays: "France"},
      {ville: "Lomme", cp: "59160", pays: "France"},
      {ville: "Sequedin", cp: "59320", pays: "France"},
      {ville: "Capinghem", cp: "59160", pays: "France"},
      {ville: "Enneti√®res-en-Weppes", cp: "59320", pays: "France"},
      {ville: "Pr√©mesques", cp: "59840", pays: "France"},
      {ville: "P√©renchies", cp: "59840", pays: "France"},
      {ville: "Verlinghem", cp: "59237", pays: "France"},
      {ville: "Erquinghem-Lys", cp: "59193", pays: "France"},
      
// Villes belges proches (frontali√®res + zone 30km)
{ville: "Mouscron", cp: "7700", pays: "Belgique"},
{ville: "Estaimpuis", cp: "7730", pays: "Belgique"},
{ville: "Estaimbourg", cp: "7730", pays: "Belgique"},
{ville: "Leers-Nord", cp: "7730", pays: "Belgique"},
{ville: "N√©chin", cp: "7730", pays: "Belgique"},
{ville: "Bailleul", cp: "7730", pays: "Belgique"},
{ville: "Saint-L√©ger", cp: "7730", pays: "Belgique"},
{ville: "Tournai", cp: "7500", pays: "Belgique"},
{ville: "Courtrai", cp: "8500", pays: "Belgique"},
{ville: "Menin", cp: "8930", pays: "Belgique"},
{ville: "Comines-Warneton", cp: "7780", pays: "Belgique"},
{ville: "Comines", cp: "7780", pays: "Belgique"},
{ville: "Ploegsteert", cp: "7782", pays: "Belgique"},
{ville: "Warneton", cp: "7784", pays: "Belgique"},
{ville: "Bas-Warneton", cp: "7784", pays: "Belgique"},
{ville: "Wervik", cp: "8940", pays: "Belgique"},
{ville: "Geluwe", cp: "8940", pays: "Belgique"},
{ville: "Wervicq", cp: "8950", pays: "Belgique"},
{ville: "Rekkem", cp: "8930", pays: "Belgique"},
{ville: "Lauwe", cp: "8930", pays: "Belgique"},
{ville: "Dottignies", cp: "7711", pays: "Belgique"},
{ville: "Luingne", cp: "7700", pays: "Belgique"},
{ville: "Herseaux", cp: "7712", pays: "Belgique"},
{ville: "Espierres-Helchin", cp: "8587", pays: "Belgique"},
{ville: "Helchin", cp: "8587", pays: "Belgique"},
{ville: "Espierres", cp: "8587", pays: "Belgique"},
{ville: "Flobecq", cp: "7880", pays: "Belgique"},
{ville: "Ellezelles", cp: "7890", pays: "Belgique"},
{ville: "Mont-de-l'Enclus", cp: "7750", pays: "Belgique"},
{ville: "Rumes", cp: "7610", pays: "Belgique"},
{ville: "Pecq", cp: "7740", pays: "Belgique"},
{ville: "Celles", cp: "7760", pays: "Belgique"},
{ville: "Kooigem", cp: "8750", pays: "Belgique"},
{ville: "Aalbeke", cp: "8511", pays: "Belgique"},
{ville: "Heule", cp: "8501", pays: "Belgique"},
{ville: "Bellegem", cp: "8510", pays: "Belgique"},
{ville: "Marke", cp: "8510", pays: "Belgique"},
{ville: "Rollegem", cp: "8510", pays: "Belgique"},
{ville: "Bissegem", cp: "8501", pays: "Belgique"},
{ville: "Kuurne", cp: "8520", pays: "Belgique"},
{ville: "Harelbeke", cp: "8530", pays: "Belgique"},
{ville: "Zwevegem", cp: "8550", pays: "Belgique"},
{ville: "Deerlijk", cp: "8540", pays: "Belgique"},
{ville: "Waregem", cp: "8790", pays: "Belgique"},

      
      // Grandes villes fran√ßaises
      {ville: "Paris", cp: "75001", pays: "France"},
      {ville: "Lyon", cp: "69001", pays: "France"},
      {ville: "Marseille", cp: "13001", pays: "France"},
      {ville: "Toulouse", cp: "31000", pays: "France"},
      {ville: "Nice", cp: "06000", pays: "France"},
      {ville: "Nantes", cp: "44000", pays: "France"},
      {ville: "Bordeaux", cp: "33000", pays: "France"},
      {ville: "Strasbourg", cp: "67000", pays: "France"},
      {ville: "Montpellier", cp: "34000", pays: "France"},
      {ville: "Rennes", cp: "35000", pays: "France"},
      {ville: "Reims", cp: "51100", pays: "France"},
      {ville: "Le Havre", cp: "76600", pays: "France"},
      {ville: "Saint-√âtienne", cp: "42000", pays: "France"},
      {ville: "Toulon", cp: "83000", pays: "France"},
      {ville: "Grenoble", cp: "38000", pays: "France"},
      {ville: "Dijon", cp: "21000", pays: "France"},
      {ville: "Angers", cp: "49000", pays: "France"},
      {ville: "N√Æmes", cp: "30000", pays: "France"},
      {ville: "Villeurbanne", cp: "69100", pays: "France"},
      {ville: "Clermont-Ferrand", cp: "63000", pays: "France"},
      {ville: "Le Mans", cp: "72000", pays: "France"},
      {ville: "Aix-en-Provence", cp: "13100", pays: "France"},
      {ville: "Brest", cp: "29200", pays: "France"},
      {ville: "Tours", cp: "37000", pays: "France"},
      {ville: "Amiens", cp: "80000", pays: "France"},
      {ville: "Limoges", cp: "87000", pays: "France"},
      {ville: "Annecy", cp: "74000", pays: "France"},
      {ville: "Perpignan", cp: "66000", pays: "France"},
      {ville: "Besan√ßon", cp: "25000", pays: "France"},
      {ville: "Orl√©ans", cp: "45000", pays: "France"},
      {ville: "Metz", cp: "57000", pays: "France"},
      {ville: "Rouen", cp: "76000", pays: "France"},
      {ville: "Mulhouse", cp: "68100", pays: "France"},
      {ville: "Caen", cp: "14000", pays: "France"},
      {ville: "Nancy", cp: "54000", pays: "France"},
      {ville: "Dunkerque", cp: "59140", pays: "France"},
      {ville: "Valenciennes", cp: "59300", pays: "France"},
      {ville: "Douai", cp: "59500", pays: "France"},
      {ville: "Lens", cp: "62300", pays: "France"},
      {ville: "Calais", cp: "62100", pays: "France"},
      {ville: "B√©thune", cp: "62400", pays: "France"},
      
      // Grandes villes belges
      {ville: "Bruxelles", cp: "1000", pays: "Belgique"},
      {ville: "Anvers", cp: "2000", pays: "Belgique"},
      {ville: "Gand", cp: "9000", pays: "Belgique"},
      {ville: "Li√®ge", cp: "4000", pays: "Belgique"},
      {ville: "Charleroi", cp: "6000", pays: "Belgique"},
      {ville: "Bruges", cp: "8000", pays: "Belgique"},
      {ville: "Namur", cp: "5000", pays: "Belgique"},
      {ville: "Mons", cp: "7000", pays: "Belgique"},
      {ville: "Louvain", cp: "3000", pays: "Belgique"},
      {ville: "Malines", cp: "2800", pays: "Belgique"},
      {ville: "Ostende", cp: "8400", pays: "Belgique"},
      {ville: "Verviers", cp: "4800", pays: "Belgique"},
      {ville: "Hasselt", cp: "3500", pays: "Belgique"}
    ];

    function autocomplete(inp) {
      let currentFocus;
      inp.addEventListener("input", function(e) {
        let a, b, i, val = this.value;
        closeAllLists();
        if (!val) { return false; }
        currentFocus = -1;
        a = document.createElement("DIV");
        a.setAttribute("class", "autocomplete-items");
        this.parentNode.appendChild(a);
        
        let count = 0;
        for (i = 0; i < villes.length; i++) {
          if (villes[i].ville.substr(0, val.length).toUpperCase() == val.toUpperCase()) {
            b = document.createElement("DIV");
            b.innerHTML = "<strong>" + villes[i].ville.substr(0, val.length) + "</strong>";
            b.innerHTML += villes[i].ville.substr(val.length);
            b.innerHTML += " (" + villes[i].cp + ", " + villes[i].pays + ")";
            b.innerHTML += "<input type='hidden' value='" + villes[i].ville + "' data-cp='" + villes[i].cp + "' data-pays='" + villes[i].pays + "'>";
            b.addEventListener("click", function(e) {
              let input = this.getElementsByTagName("input")[0];
              inp.value = input.value;
              document.getElementById("cp").value = input.getAttribute("data-cp");
              document.getElementById("pays").value = input.getAttribute("data-pays");
              closeAllLists();
            });
            a.appendChild(b);
            count++;
            if (count >= 10) break;
          }
        }
      });
      
      function closeAllLists(elmnt) {
        let x = document.getElementsByClassName("autocomplete-items");
        for (let i = 0; i < x.length; i++) {
          if (elmnt != x[i] && elmnt != inp) {
            x[i].parentNode.removeChild(x[i]);
          }
        }
      }
      document.addEventListener("click", function (e) {
        closeAllLists(e.target);
      });
    }

    document.addEventListener("DOMContentLoaded", function() {
      autocomplete(document.getElementById("ville"));
    });
  </script>
  <script>
    document.querySelector('form').addEventListener('submit', function(e) {
      e.preventDefault();
      var form = e.target;
      var formData = new FormData(form);

      fetch(form.action, {
        method: form.method,
        body: formData,
        headers: {
          'Accept': 'application/json'
        },
      }).then(function() {
        document.querySelector('.container').innerHTML = `
          <div style="text-align:center;padding:45px 0;">
            <h2 style="color:#544036">Vous allez √™tre redirig√©e vers l'agenda Maison Mab√¥t√© üóìÔ∏è</h2>
            <div style="margin:20px 0 0 0; color:#dfb7bd;">Un instant‚Ä¶ Laissez-vous guider vers la r√©servation de votre prochain moment beaut√© !</div>
          </div>
        `;
        setTimeout(function(){
          window.location.href = "https://www.supersaas.fr/schedule/Mabote/Mab%C3%B4t%C3%A9";
        }, 2000);
      });
    });
  </script>
</body>
</html>

